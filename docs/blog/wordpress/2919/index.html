<!DOCTYPE html><html class="no-js" lang="ru-RU"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0" ><link type="text/css" media="all" href="/wp-content/cache/wmac/css/wmac_97407a27079e8e1fd287e4cd83ce64a4.css" rel="stylesheet" /><link type="text/css" media="print" href="/wp-content/cache/wmac/css/wmac_6c576f4424cbf35adfa34e9b7093e9b4.css" rel="stylesheet" /><title>Турбо ускорение WordPress: практическое решение - OiPlug</title><meta name="description" content="Это полное руководство по теме: ускорение WordPress для самостоятельного решения задачи. Но если вам лень читать, я могу предоставить это как услугу."/><meta name="robots" content="max-snippet:-1, max-image-preview:large, max-video-preview:-1"/><link rel="canonical" href="/blog/wordpress/2919" /><meta property="og:locale" content="ru_RU" /><meta property="og:type" content="article" /><meta property="og:title" content="Турбо ускорение WordPress: практическое решение - OiPlug" /><meta property="og:description" content="Это полное руководство по теме: ускорение WordPress для самостоятельного решения задачи. Но если вам лень читать, я могу предоставить это как услугу." /><meta property="og:url" content="/blog/wordpress/2919" /><meta property="og:site_name" content="OiPlug" /><meta property="article:section" content="WordPress" /><meta property="article:published_time" content="2016-09-13T20:15:55+00:00" /><meta property="article:modified_time" content="2017-04-10T21:54:22+00:00" /><meta property="og:updated_time" content="2017-04-10T21:54:22+00:00" /><meta property="og:image" content="/wp-content/uploads/2016/09/wordpress_speed_up_small1.jpg" /><meta property="og:image:width" content="1024" /><meta property="og:image:height" content="576" /><meta name="twitter:card" content="summary" /><meta name="twitter:description" content="Это полное руководство по теме: ускорение WordPress для самостоятельного решения задачи. Но если вам лень читать, я могу предоставить это как услугу." /><meta name="twitter:title" content="Турбо ускорение WordPress: практическое решение - OiPlug" /><meta name="twitter:image" content="/wp-content/uploads/2016/09/wordpress_speed_up_small1.jpg" /> <script type='application/ld+json' class='yoast-schema-graph yoast-schema-graph--main'>{"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":"/#website","url":"/","name":"OiPlug","description":"\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0441\u043d\u044b\u0435 \u0440\u0435\u0448\u0435\u043d\u0438\u044f \u0432 \u0441\u0444\u0435\u0440\u0435 \u0432\u0435\u0431 \u0438 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435","potentialAction":{"@type":"SearchAction","target":"/?s={search_term_string}","query-input":"required name=search_term_string"}},{"@type":"ImageObject","@id":"/blog/wordpress/2919#primaryimage","url":"/wp-content/uploads/2016/09/wordpress_speed_up_small1.jpg","width":1024,"height":576,"caption":"\u0422\u0443\u0440\u0431\u043e \u0443\u0441\u043a\u043e\u0440\u0435\u043d\u0438\u0435 WordPress"},{"@type":"WebPage","@id":"/blog/wordpress/2919#webpage","url":"/blog/wordpress/2919","inLanguage":"ru-RU","name":"\u0422\u0443\u0440\u0431\u043e \u0443\u0441\u043a\u043e\u0440\u0435\u043d\u0438\u0435 WordPress: \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0440\u0435\u0448\u0435\u043d\u0438\u0435 - OiPlug","isPartOf":{"@id":"/#website"},"primaryImageOfPage":{"@id":"/blog/wordpress/2919#primaryimage"},"datePublished":"2016-09-13T20:15:55+00:00","dateModified":"2017-04-10T21:54:22+00:00","author":{"@id":"/#/schema/person/7a126784069c24ed83fde7b53459b5f1"},"description":"\u042d\u0442\u043e \u043f\u043e\u043b\u043d\u043e\u0435 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e \u043f\u043e \u0442\u0435\u043c\u0435: \u0443\u0441\u043a\u043e\u0440\u0435\u043d\u0438\u0435 WordPress \u0434\u043b\u044f \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0440\u0435\u0448\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438. \u041d\u043e \u0435\u0441\u043b\u0438 \u0432\u0430\u043c \u043b\u0435\u043d\u044c \u0447\u0438\u0442\u0430\u0442\u044c, \u044f \u043c\u043e\u0433\u0443 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u044d\u0442\u043e \u043a\u0430\u043a \u0443\u0441\u043b\u0443\u0433\u0443."},{"@type":["Person"],"@id":"/#/schema/person/7a126784069c24ed83fde7b53459b5f1","name":"\u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0418\u0441\u0430\u0435\u043d\u043a\u043e","description":"\u0420\u0430\u0431\u043e\u0442\u0430\u044e full-stack \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u043c, \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u044e\u0441\u044c \u043d\u0430 WordPress. \u0417\u0430 \u0432\u0440\u0435\u043c\u044f \u0442\u0440\u0443\u0434\u043e\u0432\u043e\u0439 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0441\u0434\u0435\u043b\u0430\u043b \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0445 \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0432\u0435\u0449\u0435\u0439.\r\n\u041f\u043e\u043c\u0438\u043c\u043e \u044d\u0442\u043e\u0433\u043e \u0437\u0430\u043d\u0438\u043c\u0430\u044e\u0441\u044c \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u043d\u0438\u0435\u043c - \u0432\u0435\u0434\u0443 \u043a\u0443\u0440\u0441\u044b \u043f\u043e web-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435.\r\n\r\n\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f \u043b\u0435\u0442\u043e, \u0440\u0435\u0448\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435, WordPress \u0438 \u042f\u043d\u0434\u0435\u043a\u0441.","sameAs":[]}]}</script> <style id='twentytwenty-style-inline-css'>.color-accent,.color-accent-hover:hover,.color-accent-hover:focus,:root .has-accent-color,.has-drop-cap:not(:focus):first-letter,.wp-block-button.is-style-outline,a { color: #e22658; }blockquote,.border-color-accent,.border-color-accent-hover:hover,.border-color-accent-hover:focus { border-color: #e22658; }button:not(.toggle),.button,.faux-button,.wp-block-button__link,.wp-block-file .wp-block-file__button,input[type="button"],input[type="reset"],input[type="submit"],.bg-accent,.bg-accent-hover:hover,.bg-accent-hover:focus,:root .has-accent-background-color,.comment-reply-link { background-color: #e22658; }.fill-children-accent,.fill-children-accent * { fill: #e22658; }:root .has-background-color,button,.button,.faux-button,.wp-block-button__link,.wp-block-file__button,input[type="button"],input[type="reset"],input[type="submit"],.wp-block-button,.comment-reply-link,.has-background.has-primary-background-color:not(.has-text-color),.has-background.has-primary-background-color *:not(.has-text-color),.has-background.has-accent-background-color:not(.has-text-color),.has-background.has-accent-background-color *:not(.has-text-color) { color: #ffffff; }:root .has-background-background-color { background-color: #ffffff; }body,.entry-title a,:root .has-primary-color { color: #000000; }:root .has-primary-background-color { background-color: #000000; }cite,figcaption,.wp-caption-text,.post-meta,.entry-content .wp-block-archives li,.entry-content .wp-block-categories li,.entry-content .wp-block-latest-posts li,.wp-block-latest-comments__comment-date,.wp-block-latest-posts__post-date,.wp-block-embed figcaption,.wp-block-image figcaption,.wp-block-pullquote cite,.comment-metadata,.comment-respond .comment-notes,.comment-respond .logged-in-as,.pagination .dots,.entry-content hr:not(.has-background),hr.styled-separator,:root .has-secondary-color { color: #6d6d6d; }:root .has-secondary-background-color { background-color: #6d6d6d; }pre,fieldset,input,textarea,table,table *,hr { border-color: #dbdbdb; }caption,code,code,kbd,samp,.wp-block-table.is-style-stripes tbody tr:nth-child(odd),:root .has-subtle-background-background-color { background-color: #dbdbdb; }.wp-block-table.is-style-stripes { border-bottom-color: #dbdbdb; }.wp-block-latest-posts.is-grid li { border-top-color: #dbdbdb; }:root .has-subtle-background-color { color: #dbdbdb; }body:not(.overlay-header) .primary-menu > li > a,body:not(.overlay-header) .primary-menu > li > .icon,.modal-menu a,.footer-menu a, .footer-widgets a,#site-footer .wp-block-button.is-style-outline,.wp-block-pullquote:before,.singular:not(.overlay-header) .entry-header a,.archive-header a,.header-footer-group .color-accent,.header-footer-group .color-accent-hover:hover { color: #e22658; }.social-icons a,#site-footer button:not(.toggle),#site-footer .button,#site-footer .faux-button,#site-footer .wp-block-button__link,#site-footer .wp-block-file__button,#site-footer input[type="button"],#site-footer input[type="reset"],#site-footer input[type="submit"] { background-color: #e22658; }.social-icons a,body:not(.overlay-header) .primary-menu ul,.header-footer-group button,.header-footer-group .button,.header-footer-group .faux-button,.header-footer-group .wp-block-button:not(.is-style-outline) .wp-block-button__link,.header-footer-group .wp-block-file__button,.header-footer-group input[type="button"],.header-footer-group input[type="reset"],.header-footer-group input[type="submit"] { color: #ffffff; }#site-header,.footer-nav-widgets-wrapper,#site-footer,.menu-modal,.menu-modal-inner,.search-modal-inner,.archive-header,.singular .entry-header,.singular .featured-media:before,.wp-block-pullquote:before { background-color: #ffffff; }.header-footer-group,body:not(.overlay-header) #site-header .toggle,.menu-modal .toggle { color: #000000; }body:not(.overlay-header) .primary-menu ul { background-color: #000000; }body:not(.overlay-header) .primary-menu > li > ul:after { border-bottom-color: #000000; }body:not(.overlay-header) .primary-menu ul ul:after { border-left-color: #000000; }.site-description,body:not(.overlay-header) .toggle-inner .toggle-text,.widget .post-date,.widget .rss-date,.widget_archive li,.widget_categories li,.widget cite,.widget_pages li,.widget_meta li,.widget_nav_menu li,.powered-by-wordpress,.to-the-top,.singular .entry-header .post-meta,.singular:not(.overlay-header) .entry-header .post-meta a { color: #6d6d6d; }.header-footer-group pre,.header-footer-group fieldset,.header-footer-group input,.header-footer-group textarea,.header-footer-group table,.header-footer-group table *,.footer-nav-widgets-wrapper,#site-footer,.menu-modal nav *,.footer-widgets-outer-wrapper,.footer-top { border-color: #dbdbdb; }.header-footer-group table caption,body:not(.overlay-header) .header-inner .toggle-wrapper::before { background-color: #dbdbdb; }
body,input,textarea,button,.button,.faux-button,.wp-block-button__link,.wp-block-file__button,.has-drop-cap:not(:focus)::first-letter,.has-drop-cap:not(:focus)::first-letter,.entry-content .wp-block-archives,.entry-content .wp-block-categories,.entry-content .wp-block-cover-image,.entry-content .wp-block-latest-comments,.entry-content .wp-block-latest-posts,.entry-content .wp-block-pullquote,.entry-content .wp-block-quote.is-large,.entry-content .wp-block-quote.is-style-large,.entry-content .wp-block-archives *,.entry-content .wp-block-categories *,.entry-content .wp-block-latest-posts *,.entry-content .wp-block-latest-comments *,.entry-content p,.entry-content ol,.entry-content ul,.entry-content dl,.entry-content dt,.entry-content cite,.entry-content figcaption,.entry-content .wp-caption-text,.comment-content p,.comment-content ol,.comment-content ul,.comment-content dl,.comment-content dt,.comment-content cite,.comment-content figcaption,.comment-content .wp-caption-text,.widget_text p,.widget_text ol,.widget_text ul,.widget_text dl,.widget_text dt,.widget-content .rssSummary,.widget-content cite,.widget-content figcaption,.widget-content .wp-caption-text { font-family: 'Helvetica Neue',Helvetica,'Segoe UI',Arial,sans-serif; }</style> <script src='/wp-content/themes/twentytwenty/assets/js/index.js?ver=1.0' async></script> <link rel='shortlink' href='/?p=2919' /><link rel="apple-touch-icon" sizes="180x180" href="/wp-content/uploads/fbrfg/apple-touch-icon.png"><link rel="icon" type="image/png" href="/wp-content/uploads/fbrfg/favicon-32x32.png" sizes="32x32"><link rel="icon" type="image/png" href="/wp-content/uploads/fbrfg/favicon-16x16.png" sizes="16x16"><link rel="manifest" href="/wp-content/uploads/fbrfg/manifest.json"><link rel="mask-icon" href="/wp-content/uploads/fbrfg/safari-pinned-tab.svg" color="#5bbad5"><link rel="shortcut icon" href="/wp-content/uploads/fbrfg/favicon.ico"><meta name="msapplication-config" content="/wp-content/uploads/fbrfg/browserconfig.xml"><meta name="theme-color" content="#ffffff"> <script>document.documentElement.className = document.documentElement.className.replace( 'no-js', 'js' );</script> <style id="custom-background-css">body.custom-background { background-color: #ffffff; }</style></head><body class="post-template-default single single-post postid-2919 single-format-standard custom-background singular has-post-thumbnail has-single-pagination showing-comments hide-avatars footer-top-visible reduced-spacing"> <a class="skip-link screen-reader-text" href="#site-content">Перейти к содержимому</a><header id="site-header" class="header-footer-group" role="banner"><div class="header-inner section-inner"><div class="header-titles-wrapper"><div class="header-titles"><div class="site-title faux-heading"><a href="/">OiPlug</a></div><div class="site-description">Комплексные решения в сфере веб и обучение</div></div> <button class="toggle nav-toggle mobile-nav-toggle" data-toggle-target=".menu-modal"  data-toggle-body-class="showing-menu-modal" aria-expanded="false" data-set-focus=".close-nav-toggle"> <span class="toggle-inner"> <span class="toggle-icon"> <svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="26" height="7" viewbox="0 0 26 7"><path fill-rule="evenodd" d="M332.5,45 C330.567003,45 329,43.4329966 329,41.5 C329,39.5670034 330.567003,38 332.5,38 C334.432997,38 336,39.5670034 336,41.5 C336,43.4329966 334.432997,45 332.5,45 Z M342,45 C340.067003,45 338.5,43.4329966 338.5,41.5 C338.5,39.5670034 340.067003,38 342,38 C343.932997,38 345.5,39.5670034 345.5,41.5 C345.5,43.4329966 343.932997,45 342,45 Z M351.5,45 C349.567003,45 348,43.4329966 348,41.5 C348,39.5670034 349.567003,38 351.5,38 C353.432997,38 355,39.5670034 355,41.5 C355,43.4329966 353.432997,45 351.5,45 Z" transform="translate(-329 -38)" /></svg> </span> <span class="toggle-text">Меню</span> </span> </button></div><div class="header-navigation-wrapper"><nav class="primary-menu-wrapper" aria-label="Горизонтальное" role="navigation"><ul class="primary-menu reset-list-style"><li id="menu-item-6663" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6663"><a href="/plugins/oi-yandex-maps-for-wordpress">Я.Карты</a></li></ul></nav></div></div></header><div class="menu-modal cover-modal header-footer-group" data-modal-target-string=".menu-modal"><div class="menu-modal-inner modal-inner"><div class="menu-wrapper section-inner"><div class="menu-top"> <button class="toggle close-nav-toggle fill-children-current-color" data-toggle-target=".menu-modal" data-toggle-body-class="showing-menu-modal" aria-expanded="false" data-set-focus=".menu-modal"> <span class="toggle-text">Закрыть меню</span> <svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 16 16"><polygon fill="" fill-rule="evenodd" points="6.852 7.649 .399 1.195 1.445 .149 7.899 6.602 14.352 .149 15.399 1.195 8.945 7.649 15.399 14.102 14.352 15.149 7.899 8.695 1.445 15.149 .399 14.102" /></svg> </button><nav class="mobile-menu" aria-label="Мобильные" role="navigation"><ul class="modal-menu reset-list-style"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6663"><div class="ancestor-wrapper"><a href="/plugins/oi-yandex-maps-for-wordpress">Я.Карты</a></div></li></ul></nav></div><div class="menu-bottom"></div></div></div></div><main id="site-content" role="main"><article class="post-2919 post type-post status-publish format-standard has-post-thumbnail hentry category-wordpress" id="post-2919"><header class="entry-header has-text-align-center header-footer-group"><div class="entry-header-inner section-inner medium"><div class="entry-categories"> <span class="screen-reader-text">Рубрики</span><div class="entry-categories-inner"> <a href="/category/blog/wordpress" rel="category tag">WordPress</a></div></div><h1 class="entry-title">Турбо ускорение WordPress: практическое решение</h1><div class="post-meta-wrapper post-meta-single post-meta-single-top"><ul class="post-meta"><li class="post-author meta-wrapper"> <span class="meta-icon"> <span class="screen-reader-text">Автор записи</span> <svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewbox="0 0 18 20"><path fill="" d="M18,19 C18,19.5522847 17.5522847,20 17,20 C16.4477153,20 16,19.5522847 16,19 L16,17 C16,15.3431458 14.6568542,14 13,14 L5,14 C3.34314575,14 2,15.3431458 2,17 L2,19 C2,19.5522847 1.55228475,20 1,20 C0.44771525,20 0,19.5522847 0,19 L0,17 C0,14.2385763 2.23857625,12 5,12 L13,12 C15.7614237,12 18,14.2385763 18,17 L18,19 Z M9,10 C6.23857625,10 4,7.76142375 4,5 C4,2.23857625 6.23857625,0 9,0 C11.7614237,0 14,2.23857625 14,5 C14,7.76142375 11.7614237,10 9,10 Z M9,8 C10.6568542,8 12,6.65685425 12,5 C12,3.34314575 10.6568542,2 9,2 C7.34314575,2 6,3.34314575 6,5 C6,6.65685425 7.34314575,8 9,8 Z" /></svg> </span> <span class="meta-text"> Автор: <a href="/author/uqnft">Алексей Исаенко</a> </span></li><li class="post-date meta-wrapper"> <span class="meta-icon"> <span class="screen-reader-text">Дата записи</span> <svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewbox="0 0 18 19"><path fill="" d="M4.60069444,4.09375 L3.25,4.09375 C2.47334957,4.09375 1.84375,4.72334957 1.84375,5.5 L1.84375,7.26736111 L16.15625,7.26736111 L16.15625,5.5 C16.15625,4.72334957 15.5266504,4.09375 14.75,4.09375 L13.3993056,4.09375 L13.3993056,4.55555556 C13.3993056,5.02154581 13.0215458,5.39930556 12.5555556,5.39930556 C12.0895653,5.39930556 11.7118056,5.02154581 11.7118056,4.55555556 L11.7118056,4.09375 L6.28819444,4.09375 L6.28819444,4.55555556 C6.28819444,5.02154581 5.9104347,5.39930556 5.44444444,5.39930556 C4.97845419,5.39930556 4.60069444,5.02154581 4.60069444,4.55555556 L4.60069444,4.09375 Z M6.28819444,2.40625 L11.7118056,2.40625 L11.7118056,1 C11.7118056,0.534009742 12.0895653,0.15625 12.5555556,0.15625 C13.0215458,0.15625 13.3993056,0.534009742 13.3993056,1 L13.3993056,2.40625 L14.75,2.40625 C16.4586309,2.40625 17.84375,3.79136906 17.84375,5.5 L17.84375,15.875 C17.84375,17.5836309 16.4586309,18.96875 14.75,18.96875 L3.25,18.96875 C1.54136906,18.96875 0.15625,17.5836309 0.15625,15.875 L0.15625,5.5 C0.15625,3.79136906 1.54136906,2.40625 3.25,2.40625 L4.60069444,2.40625 L4.60069444,1 C4.60069444,0.534009742 4.97845419,0.15625 5.44444444,0.15625 C5.9104347,0.15625 6.28819444,0.534009742 6.28819444,1 L6.28819444,2.40625 Z M1.84375,8.95486111 L1.84375,15.875 C1.84375,16.6516504 2.47334957,17.28125 3.25,17.28125 L14.75,17.28125 C15.5266504,17.28125 16.15625,16.6516504 16.15625,15.875 L16.15625,8.95486111 L1.84375,8.95486111 Z" /></svg> </span> <span class="meta-text"> <a href="/blog/wordpress/2919">13.09.2016</a> </span></li><li class="post-comment-link meta-wrapper"> <span class="meta-icon"> <svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewbox="0 0 19 19"><path d="M9.43016863,13.2235931 C9.58624731,13.094699 9.7823475,13.0241935 9.98476849,13.0241935 L15.0564516,13.0241935 C15.8581553,13.0241935 16.5080645,12.3742843 16.5080645,11.5725806 L16.5080645,3.44354839 C16.5080645,2.64184472 15.8581553,1.99193548 15.0564516,1.99193548 L3.44354839,1.99193548 C2.64184472,1.99193548 1.99193548,2.64184472 1.99193548,3.44354839 L1.99193548,11.5725806 C1.99193548,12.3742843 2.64184472,13.0241935 3.44354839,13.0241935 L5.76612903,13.0241935 C6.24715123,13.0241935 6.63709677,13.4141391 6.63709677,13.8951613 L6.63709677,15.5301903 L9.43016863,13.2235931 Z M3.44354839,14.766129 C1.67980032,14.766129 0.25,13.3363287 0.25,11.5725806 L0.25,3.44354839 C0.25,1.67980032 1.67980032,0.25 3.44354839,0.25 L15.0564516,0.25 C16.8201997,0.25 18.25,1.67980032 18.25,3.44354839 L18.25,11.5725806 C18.25,13.3363287 16.8201997,14.766129 15.0564516,14.766129 L10.2979143,14.766129 L6.32072889,18.0506004 C5.75274472,18.5196577 4.89516129,18.1156602 4.89516129,17.3790323 L4.89516129,14.766129 L3.44354839,14.766129 Z" /></svg> </span> <span class="meta-text"> <a href="/blog/wordpress/2919#respond">Комментарии</a> </span></li></ul></div></div></header><figure class="featured-media"><div class="featured-media-inner section-inner"> <img width="1024" height="576" src="/wp-content/uploads/2016/09/wordpress_speed_up_small1.jpg" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="Турбо ускорение WordPress" srcset="/wp-content/uploads/2016/09/wordpress_speed_up_small1.jpg 1024w, /wp-content/uploads/2016/09/wordpress_speed_up_small1-300x169.jpg 300w, /wp-content/uploads/2016/09/wordpress_speed_up_small1-768x432.jpg 768w" sizes="(max-width: 1024px) 100vw, 1024px" title="Турбо ускорение WordPress: практическое решение" /></div></figure><div class="post-inner thin"><div class="entry-content"><h2>Это полное руководство по теме: ускорение WordPress для самостоятельного решения задачи. Выполняя инструкции вы сможете существенно ускорить ваш сайт. Далее идет пошаговая инструкция, но если вам лень читать или лень все это делать самостоятельно, то я могу предоставить вам это как услугу.</h2><p>Рано или поздно перед каждым встает задача &#8212; ускорение WordPress. Объемы данных вырастают до такой степени, что сайт начинает еле-еле выдавать информацию порциями. Это совершенно не приемлемо, в случае, если вашим сайтом пользуется огромное количество людей или от его аптайма зависит чья-то работа.</p><p>Решение задачи основано на методе, описанном Дэйвом Хилдичем(<a href="http://www.affiliatewebdesigners.com/author/jedidave/" target="_blank" class="external" rel="nofollow">Dave Hilditch</a>).</p><p>Технология такая: берем быстрый web-сервер(<strong>Nginx</strong>), быстрый транслятор PHP(<strong>HHVM</strong>) в режиме запуска(SAPI) <strong>PHP-FPM</strong>, быстрый движок БД(<strong>Percona XtraDB</strong>), после перевода исходников PHP в байт-код кэшируем байт-код(<strong>APC</strong>) и кладем кэш в оперативку(<strong>Memcached</strong>), кэшируем страницы(<strong>W3 Total Cache</strong>), кэшируем HTTP запросы(<strong>Varnish</strong>).</p><p>Переход на <strong>Nginx</strong> это уже адское ускорение WordPress. Это позволит обрабатывать гораздо больше посетителей, но добавьте сюда все остальные фичи и ваш сайт станет предметом зависти других владельцев сайтов на WordPress.</p><h3>Шаги реализующие ускорение WordPress</h3><p>Вам понадобится доступ по SSH и знание некоторых команд Linux, если вы решите все делать самостоятельно. Далее идут шаги:</p><ol><li>Зарегистрируйте <a href="http://hosting.reg.ru/vps/?rid=692926" target="_blank" class="external" rel="nofollow">VPS хостинг на Reg.ru</a> (или любой другой хостинг Ubuntu 14.04+ VPS);</li><li><a href="http://www.reg.ru/domain/new/checkmany?dname=INTERESTING-DOMAIN.RU&amp;rid=692926" target="_blank" class="external" rel="nofollow">Зарегистрируйте домен</a>;</li><li>Следуйте инструкциям <a href="https://github.com/zach-adams/hgv-deploy-full" target="_blank" class="external" rel="nofollow">Ansible Playlist;</a></li><li>Установите <strong>cURL</strong>, <strong>mcrypt</strong> и настройте <strong>фаервол</strong>:<br /><div id="crayon-5e0b0fe8b5f26237024558" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums" data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e0b0fe8b5f26237024558-1">1</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f26237024558-2">2</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f26237024558-3">3</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f26237024558-4">4</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f26237024558-5">5</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f26237024558-6">6</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f26237024558-7">7</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e0b0fe8b5f26237024558-1"><span class="crayon-e">sudo </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-e">get </span><span class="crayon-e">install </span><span class="crayon-v">php5</span><span class="crayon-o">-</span><span class="crayon-e">curl</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f26237024558-2"><span class="crayon-e">sudo </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-e">get </span><span class="crayon-e">install </span><span class="crayon-v">php5</span><span class="crayon-o">-</span><span class="crayon-e">mcrypt</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f26237024558-3"><span class="crayon-e">sudo </span><span class="crayon-e">ufw </span><span class="crayon-e">allow </span><span class="crayon-e">ssh</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f26237024558-4"><span class="crayon-e">sudo </span><span class="crayon-e">ufw </span><span class="crayon-i">allow</span><span class="crayon-h"> </span><span class="crayon-cn">80</span><span class="crayon-o">/</span><span class="crayon-e">tcp</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f26237024558-5"><span class="crayon-e">sudo </span><span class="crayon-e">ufw </span><span class="crayon-i">allow</span><span class="crayon-h"> </span><span class="crayon-cn">443</span><span class="crayon-o">/</span><span class="crayon-e">tcp</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f26237024558-6"><span class="crayon-e">sudo </span><span class="crayon-e">ufw </span><span class="crayon-i">allow</span><span class="crayon-h"> </span><span class="crayon-cn">25</span><span class="crayon-o">/</span><span class="crayon-e">tcp</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f26237024558-7"><span class="crayon-e">sudo </span><span class="crayon-e">ufw </span><span class="crayon-v">enable</span></div></div></td></tr></table></div></div></li><li>Установите <strong>PHP7</strong> для быстрого запастного плана:<br /><div id="crayon-5e0b0fe8b5f31362349409" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums" data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e0b0fe8b5f31362349409-1">1</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f31362349409-2">2</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f31362349409-3">3</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f31362349409-4">4</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f31362349409-5">5</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e0b0fe8b5f31362349409-1"><span class="crayon-e">sudo </span><span class="crayon-v">add</span><span class="crayon-o">-</span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-e">repository </span><span class="crayon-v">ppa</span><span class="crayon-o">:</span><span class="crayon-v">ondrej</span><span class="crayon-o">/</span><span class="crayon-e">php</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f31362349409-2"><span class="crayon-e">sudo </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-e">get </span><span class="crayon-e">update</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f31362349409-3"><span class="crayon-e">sudo </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-e">get </span><span class="crayon-v">install</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">y</span><span class="crayon-h"> </span><span class="crayon-e">tmux </span><span class="crayon-e">curl </span><span class="crayon-e">wget </span><span class="crayon-e">nginx </span><span class="crayon-v">php7</span><span class="crayon-sy">.</span><span class="crayon-cn">0</span><span class="crayon-o">-</span><span class="crayon-e">fpm </span><span class="crayon-v">php7</span><span class="crayon-sy">.</span><span class="crayon-cn">0</span><span class="crayon-o">-</span><span class="crayon-e">cli </span><span class="crayon-v">php7</span><span class="crayon-sy">.</span><span class="crayon-cn">0</span><span class="crayon-o">-</span><span class="crayon-e">curl </span><span class="crayon-v">php7</span><span class="crayon-sy">.</span><span class="crayon-cn">0</span><span class="crayon-o">-</span><span class="crayon-e">gd </span><span class="crayon-v">php7</span><span class="crayon-sy">.</span><span class="crayon-cn">0</span><span class="crayon-o">-</span><span class="crayon-e">intl </span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f31362349409-4"><span class="crayon-e">sudo </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-e">get </span><span class="crayon-e">install </span><span class="crayon-v">php7</span><span class="crayon-sy">.</span><span class="crayon-cn">0</span><span class="crayon-o">-</span><span class="crayon-v">mysql</span><span class="crayon-o">&amp;</span><span class="crayon-v">nbsp</span><span class="crayon-sy">;</span><span class="crayon-v">php</span><span class="crayon-o">-</span><span class="crayon-e">memcached </span><span class="crayon-v">php7</span><span class="crayon-sy">.</span><span class="crayon-cn">0</span><span class="crayon-o">-</span><span class="crayon-e">mbstring </span><span class="crayon-v">php7</span><span class="crayon-sy">.</span><span class="crayon-cn">0</span><span class="crayon-o">-</span><span class="crayon-e">zip </span><span class="crayon-v">php7</span><span class="crayon-sy">.</span><span class="crayon-cn">0</span><span class="crayon-o">-</span><span class="crayon-e">xml</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f31362349409-5"><span class="crayon-v">vi</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">nginx</span><span class="crayon-o">/</span><span class="crayon-v">conf</span><span class="crayon-sy">.</span><span class="crayon-v">d</span><span class="crayon-o">/</span><span class="crayon-v">upstream</span><span class="crayon-sy">.</span><span class="crayon-v">conf</span></div></div></td></tr></table></div></div> <br /> (Измените сокет php на новый сокет php7)<br /><div id="crayon-5e0b0fe8b5f33884803179" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums" data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e0b0fe8b5f33884803179-1">1</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f33884803179-2">2</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f33884803179-3">3</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e0b0fe8b5f33884803179-1"><span class="crayon-e">upstream</span><span class="crayon-h"> </span><span class="crayon-e">php</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f33884803179-2"><span class="crayon-h"> </span><span class="crayon-e">server </span><span class="crayon-v">unix</span><span class="crayon-o">:</span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">run</span><span class="crayon-o">/</span><span class="crayon-v">php</span><span class="crayon-o">/</span><span class="crayon-v">php7</span><span class="crayon-sy">.</span><span class="crayon-cn">0</span><span class="crayon-o">-</span><span class="crayon-v">fpm</span><span class="crayon-sy">.</span><span class="crayon-v">sock</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f33884803179-3"><span class="crayon-sy">}</span></div></div></td></tr></table></div></div></li><li>Установите <strong>fail2ban</strong> для защиты сервера от атак(отредактируйте <strong>jail.local</strong> после того как он будет создан, найдите блок <strong>nginx</strong> и измените на <strong>true</strong>):<br /><div id="crayon-5e0b0fe8b5f34946621489" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums" data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e0b0fe8b5f34946621489-1">1</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f34946621489-2">2</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e0b0fe8b5f34946621489-1"><span class="crayon-e">sudo </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-e">get </span><span class="crayon-e">install </span><span class="crayon-e">fail2ban</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f34946621489-2"><span class="crayon-v">cp</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">fail2ban</span><span class="crayon-o">/</span><span class="crayon-v">jail</span><span class="crayon-sy">.</span><span class="crayon-v">conf</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">fail2ban</span><span class="crayon-o">/</span><span class="crayon-v">jail</span><span class="crayon-sy">.</span><span class="crayon-v">local</span></div></div></td></tr></table></div></div> <br /><div id="crayon-5e0b0fe8b5f36718322297" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums" data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e0b0fe8b5f36718322297-1">1</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e0b0fe8b5f36718322297-1"><span class="crayon-v">vi</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">fail2ban</span><span class="crayon-o">/</span><span class="crayon-v">filter</span><span class="crayon-sy">.</span><span class="crayon-v">d</span><span class="crayon-o">/</span><span class="crayon-v">wordpress</span><span class="crayon-sy">.</span><span class="crayon-v">conf</span></div></div></td></tr></table></div></div> <br /> Вставьте следующие строки:<br /><div id="crayon-5e0b0fe8b5f37593257599" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums" data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e0b0fe8b5f37593257599-1">1</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f37593257599-2">2</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e0b0fe8b5f37593257599-1"><span class="crayon-sy">[</span><span class="crayon-v">Definition</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f37593257599-2"><span class="crayon-v">failregex</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-o">^</span><span class="crayon-o">&lt;</span><span class="crayon-v">HOST</span><span class="crayon-o">&gt;</span><span class="crayon-sy">.</span><span class="crayon-o">*</span><span class="crayon-v">POST</span><span class="crayon-sy">.</span><span class="crayon-o">*</span><span class="crayon-sy">(</span><span class="crayon-v">wp</span><span class="crayon-o">-</span><span class="crayon-v">login</span><span class="crayon-sy">\</span><span class="crayon-sy">.</span><span class="crayon-v">php</span><span class="crayon-o">|</span><span class="crayon-v">xmlrpc</span><span class="crayon-sy">\</span><span class="crayon-sy">.</span><span class="crayon-v">php</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">403</span><span class="crayon-o">|</span><span class="crayon-cn">499</span><span class="crayon-sy">)</span></div></div></td></tr></table></div></div> <br /> Далее:<br /><div id="crayon-5e0b0fe8b5f39978897480" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums" data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e0b0fe8b5f39978897480-1">1</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e0b0fe8b5f39978897480-1"><span class="crayon-v">vi</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">fail2ban</span><span class="crayon-o">/</span><span class="crayon-v">jail</span><span class="crayon-sy">.</span><span class="crayon-v">conf</span></div></div></td></tr></table></div></div> <br /> Измените <strong>nginx enabled=true</strong> (вместо false)<br /> Измените <strong>bantime</strong> на <strong>86400</strong> (1 день вместо 10 минут)<br /> Вставьте следующее после блока nginx:<br /><div id="crayon-5e0b0fe8b5f3a683273320" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums" data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e0b0fe8b5f3a683273320-1">1</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f3a683273320-2">2</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f3a683273320-3">3</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f3a683273320-4">4</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f3a683273320-5">5</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f3a683273320-6">6</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e0b0fe8b5f3a683273320-1"><span class="crayon-sy">[</span><span class="crayon-v">wordpress</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f3a683273320-2"><span class="crayon-v">enabled</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f3a683273320-3"><span class="crayon-v">port</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">http</span><span class="crayon-sy">,</span><span class="crayon-e">https</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f3a683273320-4"><span class="crayon-v">filter</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">wordpress</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f3a683273320-5"><span class="crayon-v">logpath</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-t">var</span><span class="crayon-o">/</span><span class="crayon-v">log</span><span class="crayon-o">/</span><span class="crayon-v">nginx</span><span class="crayon-o">/</span><span class="crayon-o">*</span><span class="crayon-v">access</span><span class="crayon-sy">.</span><span class="crayon-e">log</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f3a683273320-6"><span class="crayon-v">maxretry</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">3</span></div></div></td></tr></table></div></div></li><li>Установите <strong>sendmail</strong> (не нужно, если вы используете сторонний сервис типа Mandrill или Mailgun – примечание: <a href="https://www.reg.ru/support/pochta_general/pochta-reg-ru/nastroyka-spf-ptr-i-dkim-zapisey/kak-nastroit-spf-zapis?rid=692926" target="_blank" class="external" rel="nofollow">настройка SPF-записей</a> займет больше времени)<br /><div id="crayon-5e0b0fe8b5f3c468541694" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums" data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e0b0fe8b5f3c468541694-1">1</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f3c468541694-2">2</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e0b0fe8b5f3c468541694-1"><span class="crayon-e">sudo </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-e">get </span><span class="crayon-e">install </span><span class="crayon-e">sendmail</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f3c468541694-2"><span class="crayon-e">sudo </span><span class="crayon-e">sendmailconfig</span><span class="crayon-h"> </span><span class="crayon-sy">(</span>укажите<span class="crayon-h"> </span><span class="crayon-i">Y</span><span class="crayon-h"> </span>и<span class="crayon-h"> </span><span class="crayon-i">Y</span><span class="crayon-h"> </span>в<span class="crayon-h"> </span>качестве<span class="crayon-h"> </span>ответов<span class="crayon-h"> </span>на<span class="crayon-h"> </span>вопросы<span class="crayon-sy">)</span></div></div></td></tr></table></div></div></li><li>Настройка автоматического обновления (добавьте “kernel”; в черный список, так как на некоторых серверах, типа Digital Ocean, необходимо обновлять его из консоли, для обеспечения стабильной работы):<br /><div id="crayon-5e0b0fe8b5f3d287877288" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums" data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e0b0fe8b5f3d287877288-1">1</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f3d287877288-2">2</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e0b0fe8b5f3d287877288-1"><span class="crayon-e">sudo </span><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-e">get </span><span class="crayon-e">install </span><span class="crayon-v">unattended</span><span class="crayon-o">-</span><span class="crayon-e">upgrades</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f3d287877288-2"><span class="crayon-v">vi</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">apt</span><span class="crayon-o">/</span><span class="crayon-v">apt</span><span class="crayon-sy">.</span><span class="crayon-v">conf</span><span class="crayon-sy">.</span><span class="crayon-v">d</span><span class="crayon-o">/</span><span class="crayon-cn">50unattended</span><span class="crayon-o">-</span><span class="crayon-v">upgrades</span></div></div></td></tr></table></div></div></li><li>Запуск<br /><div id="crayon-5e0b0fe8b5f3f017489247" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums" data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e0b0fe8b5f3f017489247-1">1</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e0b0fe8b5f3f017489247-1"><span class="crayon-v">update</span><span class="crayon-o">-</span><span class="crayon-v">rc</span><span class="crayon-sy">.</span><span class="crayon-i">d</span><span class="crayon-h"> </span><span class="crayon-e">xxx </span><span class="crayon-e">disable</span><span class="crayon-h"> </span><span class="crayon-sy">(</span>где<span class="crayon-h"> </span><span class="crayon-s">"xxx"</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span>это<span class="crayon-h"> </span>сервис<span class="crayon-sy">,</span><span class="crayon-h"> </span>который<span class="crayon-h"> </span>вы<span class="crayon-h"> </span>хотиете<span class="crayon-h"> </span>отключить<span class="crayon-sy">)</span></div></div></td></tr></table></div></div> <br /> для любых сервисов, которые вы не хотите запускать. Проверьте сервисы с помощью <strong>–status-all</strong>. Примечание: если у вас 1GB RAM или меньше, отключите <strong>Varnish</strong> и <strong>HHVM</strong> и используйте <strong>PHP7</strong> – нужно будет внести изменения в файл /etc/nginx/sites-available/domain.com  – три вещи: 1) Установить <strong>80</strong>-й порт, вместо <strong>8080</strong>-го, 2) Изменить приоритетный метод с <strong>hhvm</strong> на <strong>php</strong>, 3) Удалить резервную строку в первичном методе</li><li>Настройка <strong>cron</strong> – найдите свой <strong>wp-config.php</strong> файл (<code>/var/www/html/yourdomain/wp-config.php</code>) и добавьте следующий код:<br /><div id="crayon-5e0b0fe8b5f41735103716" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums" data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e0b0fe8b5f41735103716-1">1</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e0b0fe8b5f41735103716-1"><span class="crayon-e">define</span><span class="crayon-sy">(</span><span class="crayon-s">'DISABLE_WP_CRON'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'true'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td></tr></table></div></div> <br /> Затем запустите <strong>crontab</strong> -e и добавьте:<br /><div id="crayon-5e0b0fe8b5f43023264105" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums" data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e0b0fe8b5f43023264105-1">1</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e0b0fe8b5f43023264105-1"><span class="crayon-o">*</span><span class="crayon-o">/</span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-v">wget</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">q</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">O</span><span class="crayon-h"> </span>–<span class="crayon-h"> </span><span class="crayon-v">http</span><span class="crayon-o">:</span><span class="crayon-c">//YOURWEBSITE.COM/wp-cron.php?doing_wp_cron</span></div></div></td></tr></table></div></div></li><li>Измените часовой пояс:<br /><div id="crayon-5e0b0fe8b5f44192051364" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums" data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e0b0fe8b5f44192051364-1">1</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e0b0fe8b5f44192051364-1"><span class="crayon-e">sudo </span><span class="crayon-v">dpkg</span><span class="crayon-o">-</span><span class="crayon-e">reconfigure </span><span class="crayon-v">tzdata</span></div></div></td></tr></table></div></div></li><li>Выборочно настройте длину таймаутов и режим отладки &#8212; актуально, если будете делать объемный импорт или аналогичные вещи<br /> Отредактируйте <strong>wp-config.php</strong>:<br /><div id="crayon-5e0b0fe8b5f46299858629" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums" data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e0b0fe8b5f46299858629-1">1</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f46299858629-2">2</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f46299858629-3">3</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e0b0fe8b5f46299858629-1"><span class="crayon-e">define</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'WP_DEBUG'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f46299858629-2"><span class="crayon-e">define</span><span class="crayon-sy">(</span><span class="crayon-s">'WP_DEBUG_DISPLAY'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f46299858629-3"><span class="crayon-e">define</span><span class="crayon-sy">(</span><span class="crayon-s">'WP_DEBUG_LOG'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td></tr></table></div></div> <br /> Отредактируйте /etc/nginx/sites-available/domain.com:<br /> Добавьте <strong>fastcgi_read_timeout</strong> 120<br /> Отредактируйте /etc/php/7.0/fpm/php.ini:<br /> Измените <strong>max_execution_time</strong> на <strong>120</strong><br /> Измените <strong>upload_max_filesize</strong> на что-то больше, чем <strong>2M</strong></li><li>Увеличьте количество создаваемых дочерних процессов:<br /> Отредактируйте /etc/php/7.0/fpm/pool.d/www.conf и измените:<br /><div id="crayon-5e0b0fe8b5f47823752873" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums" data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e0b0fe8b5f47823752873-1">1</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e0b0fe8b5f47823752873-1"><span class="crayon-v">pm</span><span class="crayon-sy">.</span><span class="crayon-v">max</span><span class="crayon-sy">_</span>children<span class="crayon-h"> </span><span class="crayon-cn">25</span></div></div></td></tr></table></div></div> <br /><div id="crayon-5e0b0fe8b5f49319208772" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums" data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e0b0fe8b5f49319208772-1">1</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e0b0fe8b5f49319208772-1"><span class="crayon-v">pm</span><span class="crayon-sy">.</span><span class="crayon-v">start</span><span class="crayon-sy">_</span>servers<span class="crayon-h"> </span><span class="crayon-cn">5</span></div></div></td></tr></table></div></div> <br /><div id="crayon-5e0b0fe8b5f4a228942941" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums" data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e0b0fe8b5f4a228942941-1">1</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e0b0fe8b5f4a228942941-1"><span class="crayon-v">pm</span><span class="crayon-sy">.</span><span class="crayon-v">max_spare</span><span class="crayon-sy">_</span>servers<span class="crayon-h"> </span><span class="crayon-cn">5</span></div></div></td></tr></table></div></div> <br /> (вы можете &#171;поиграть&#187; с настройками в зависимости от объема оперативки на сервере)</li><li>Увеличьте число подключений nginx – отредактируйте /etc/nginx/nginx.conf – что-то подобное вначале:<br /><div id="crayon-5e0b0fe8b5f4c193048290" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums" data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e0b0fe8b5f4c193048290-1">1</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f4c193048290-2">2</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f4c193048290-3">3</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f4c193048290-4">4</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f4c193048290-5">5</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f4c193048290-6">6</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e0b0fe8b5f4c193048290-1"><span class="crayon-e">events</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f4c193048290-2"><span class="crayon-h"> </span><span class="crayon-v">worker</span><span class="crayon-sy">_</span>connections<span class="crayon-h"> </span><span class="crayon-cn">20000</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f4c193048290-3"><span class="crayon-h"> </span><span class="crayon-e">multi_accept </span><span class="crayon-v">on</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f4c193048290-4"><span class="crayon-h"> </span><span class="crayon-st">use</span><span class="crayon-h"> </span><span class="crayon-v">epoll</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f4c193048290-5"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f4c193048290-6"><span class="crayon-v">worker_rlimit</span><span class="crayon-sy">_</span>nofile<span class="crayon-h"> </span><span class="crayon-cn">42000</span><span class="crayon-sy">;</span></div></div></td></tr></table></div></div></li><li>Настройте <strong>MySQL</strong>:<br /><div id="crayon-5e0b0fe8b5f4d240390245" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums" data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e0b0fe8b5f4d240390245-1">1</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e0b0fe8b5f4d240390245-1"><span class="crayon-v">vi</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">etc</span><span class="crayon-o">/</span><span class="crayon-v">mysql</span><span class="crayon-o">/</span><span class="crayon-v">my</span><span class="crayon-sy">.</span><span class="crayon-v">cnf</span></div></div></td></tr></table></div></div> <br /> Зависит от объема доступной памяти, используемого движка и того, что вы реализуете на WordPress<br /><div id="crayon-5e0b0fe8b5f4e943054501" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums" data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e0b0fe8b5f4e943054501-1">1</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f4e943054501-2">2</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f4e943054501-3">3</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f4e943054501-4">4</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f4e943054501-5">5</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f4e943054501-6">6</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f4e943054501-7">7</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f4e943054501-8">8</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f4e943054501-9">9</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f4e943054501-10">10</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e0b0fe8b5f4e943054501-1"><span class="crayon-sy">[</span><span class="crayon-e">mysqld </span><span class="crayon-v">section</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f4e943054501-2"><span class="crayon-v">key_buffer</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">512M</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f4e943054501-3"><span class="crayon-v">max_allowed_packet</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">512M</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f4e943054501-4"><span class="crayon-v">thread_stack</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">192K</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f4e943054501-5"><span class="crayon-v">thread_cache_size</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">8</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f4e943054501-6"><span class="crayon-v">query_cache_limit</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">512M</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f4e943054501-7"><span class="crayon-v">query_cache_size</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">4192M</span><span class="crayon-h"> </span><span class="crayon-sy">(</span>или<span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span>может<span class="crayon-h"> </span>улучшить<span class="crayon-h"> </span>производительность<span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f4e943054501-8"><span class="crayon-v">innodb_buffer_pool_size</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">20000M</span><span class="crayon-h"> </span><span class="crayon-sy">(</span>в<span class="crayon-h"> </span>зависимости<span class="crayon-h"> </span>от<span class="crayon-h"> </span>памяти<span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span>тут<span class="crayon-h"> </span>должно<span class="crayon-h"> </span>быть<span class="crayon-h"> </span>указано<span class="crayon-h"> </span><span class="crayon-cn">60</span><span class="crayon-o">%</span><span class="crayon-h"> </span>от<span class="crayon-h"> </span>объема<span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f4e943054501-9"><span class="crayon-v">innodb_buffer_pool_instances</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">16</span><span class="crayon-h"> </span><span class="crayon-sy">(</span>в<span class="crayon-h"> </span>зависимости<span class="crayon-h"> </span>от<span class="crayon-h"> </span>количества<span class="crayon-h"> </span>ядер<span class="crayon-sy">,</span><span class="crayon-h"> </span>которое<span class="crayon-h"> </span>у<span class="crayon-h"> </span>вас<span class="crayon-h"> </span>есть<span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f4e943054501-10"><span class="crayon-v">innodb_io_capacity</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">5000</span><span class="crayon-h"> </span><span class="crayon-sy">(</span>так<span class="crayon-h"> </span>как<span class="crayon-h"> </span><span class="crayon-v">Reg</span><span class="crayon-sy">.</span><span class="crayon-i">ru</span><span class="crayon-h"> </span>использует<span class="crayon-h"> </span>быстрые<span class="crayon-h"> </span><span class="crayon-i">SSD</span>'ки<span class="crayon-h"> </span>мы<span class="crayon-h"> </span>не<span class="crayon-h"> </span>будем<span class="crayon-h"> </span>ограничивать<span class="crayon-h"> </span><span class="crayon-v">InnoDB</span><span class="crayon-sy">)</span></div></div></td></tr></table></div></div></li></ol><p>Перезапустите ключевые сервисы(nginx, varnish, hhvm, php7.0-fpm) или перезагрузите сервер <strong>shutdown -r now</strong>. Ваш новый сервер и WordPress готовы, быстры и защищены.</p><h2>Перенос существующего сайта</h2><ol><li>Войдите на ваш сервер</li><li><strong>cd</strong> в папку <strong>wp-content</strong></li><li>Сделайте бэкап БД используя: mysqldump -u root -p dbname &gt; sqldump.sql<ol><li>Если у вас нет доступа по <strong>SSH</strong>, создайте временный файл и добавьте следующий код: <em>&lt;?php shell_exec(‘mysqldump -u root -p dbname &gt; sqldump.sql’); ?&gt;</em> затем создайте страницу с этим шаблоном и затем перейдите на нее &#8212; у вас должен получиться файл бэкапа БД &#8212; это полезно, в случае использования хостингов, которые не предоставляют доступ по SSH и не делают резервное копирование</li></ol></li><li>Войдите на ваш новый сервер</li><li>cd в папку wp-content</li><li>Подключитесь по FTP к старому серверу: sftp root@ipaddress</li><li>Заберите все: <strong>get -r *</strong></li><li>Выходите из FTP</li><li>Восстановите БД, используя:<ol><li>mysql -u root -p</li><li>create database dbname;</li><li>use dbname;</li><li>source sqldump.sql; &#8212; замените sqldump.sql на полный путь к файлу sqldump.sql (например /var/www/html/websitename/wp-content/sqldump.sql)</li></ol></li><li>Выходите из mysql и удаляйте файл sqldump.sql</li><li>Скопируйте wp-config.php, возможно понадобится его изменить &#8212; смотрите на различая по FTP.</li><li>Обновите /etc/nginx/sites-available/domain.com чтобы указать папку, которую вы скачали со старого сервера</li><li>Как только вы закончили &#8212; переключите DNS на новый сервер</li></ol><h2>Установка W3 Total Cache</h2><ol><li>Авторизуйтесь на сайте</li><li>Установите W3 Total Cache</li><li>Настройте кэширование страниц, минимизацию, кэширование БД используя OpCode:APC Caching. Тут <a href="http://www.wpexplorer.com/wordpress-w3-total-cache/" target="_blank" class="external" rel="nofollow">полное руководство по настройке W3 Caching</a> НО используйте Disk:Enhanced только для кэширования страниц &#8212; используйте OpCode:APC Caching для всего остального. Если вы используете Datafeedr (или для максимальной совместимости с другими плагинами), <strong>не используйте кэширование объектов</strong>.</li><li>Выборочно настройте Cloudflare или аналогичный <strong>CDN</strong> – если будете настраивать, установите плагин Cloudflare, он устранит некоторые проблемы</li><li>Добавьте в файл wp-config.php:<br /><div id="crayon-5e0b0fe8b5f50657253628" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums" data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e0b0fe8b5f50657253628-1">1</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e0b0fe8b5f50657253628-1"><span class="crayon-e">define</span><span class="crayon-sy">(</span><span class="crayon-s">'WP_CACHE'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td></tr></table></div></div></li></ol><h2>Настройка email</h2><p>Отредактируйте/etc/hosts найдите строку с 127.0.0.1 и добавьте полное название домена(hostname.yourdomain.com):</p><div id="crayon-5e0b0fe8b5f52242889660" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums" data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e0b0fe8b5f52242889660-1">1</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e0b0fe8b5f52242889660-1"><span class="crayon-cn">127.0.0.1</span><span class="crayon-h"> </span><span class="crayon-v">hostname</span><span class="crayon-sy">.</span><span class="crayon-v">yourdomain</span><span class="crayon-sy">.</span><span class="crayon-e">com </span><span class="crayon-v">hostname</span></div></div></td></tr></table></div></div><p>Далее запускаем следующее:</p><div id="crayon-5e0b0fe8b5f53865169841" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-plain-wrap"></div><div class="crayon-main" style=""><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums" data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5e0b0fe8b5f53865169841-1">1</div><div class="crayon-num" data-line="crayon-5e0b0fe8b5f53865169841-2">2</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5e0b0fe8b5f53865169841-1"><span class="crayon-v">apt</span><span class="crayon-o">-</span><span class="crayon-e">get </span><span class="crayon-e">install </span><span class="crayon-v">exim4</span><span class="crayon-o">-</span><span class="crayon-v">daemon</span><span class="crayon-o">-</span><span class="crayon-e">light </span><span class="crayon-e">mailutils</span></div><div class="crayon-line" id="crayon-5e0b0fe8b5f53865169841-2"><span class="crayon-v">dpkg</span><span class="crayon-o">-</span><span class="crayon-e">reconfigure </span><span class="crayon-v">exim4</span><span class="crayon-o">-</span><span class="crayon-v">config</span></div></div></td></tr></table></div></div><p>Далее выбираем:</p><ul><li>Интернет сайт</li><li>Введите полное название домена</li><li>Добавьте имя хоста и <em>localhost</em> в список серверов, которые могут вести рассылку(а так же полное доменное имя) разделяя точкой с запятой</li><li>Оставьте <strong>Domains to relay for</strong> и <strong>Machines to relay</strong> пустыми</li><li>Ответьте <strong>No</strong> на <strong>Keep number of DNS-queries minimal (Dial-on-Demand)?</strong></li><li>Остальные настройки оставьте по умолчанию</li></ul><p>Теперь ваш сервер может отсылать письма, которые не конфликтуют с WordPress.</p><p>Вот и все &#8212; теперь у вас супер быстрый сайт на WordPress &#8212; самый быстрый, какой только может быть с вашей конфигурацией сервера. Можно считать, что ускорение WordPress прошло более, чем успешно!</p><p>Если не хотите выполнять пошаговую инструкцию описанную выше, у вас нет времени, или не хочется разбираться как работает ускорение WordPress &#8212; вы можете обратиться ко мне и я помогу вам с этим за отдельную плату.</p><h2>Добавление нового сайта</h2><p>Самый лучший способ &#8212; скопировать файл в /etc/nginx/sites-available и настроить новый файл как новый сайт.</p></div></div><div class="section-inner"><div class="author-bio"><div class="author-title-wrapper"><div class="author-avatar vcard"></div><h2 class="author-title heading-size-4"> Автор: Алексей Исаенко</h2></div><div class="author-description"><p>Работаю full-stack разработчиком, специализируюсь на WordPress. За время трудовой деятельности сделал несколько полезных для пользователей вещей.<br /> Помимо этого занимаюсь преподаванием - веду курсы по web-разработке.</p><p>Нравится лето, решать новые задачи в разработке, WordPress и Яндекс.</p> <a class="author-link" href="/author/uqnft" rel="author"> Просмотр архива <span aria-hidden="true">&rarr;</span> </a></div></div></div><nav class="pagination-single section-inner" aria-label="Запись" role="navigation"><hr class="styled-separator is-style-wide" aria-hidden="true" /><div class="pagination-single-inner"> <a class="previous-post" href="/blog/html-css-blog/4153"> <span class="arrow" aria-hidden="true">&larr;</span> <span class="title"><span class="title-inner">Урок: блоки в одну строку CSS</span></span> </a> <a class="next-post" href="/blog/wordpress/2926"> <span class="arrow" aria-hidden="true">&rarr;</span> <span class="title"><span class="title-inner">Bootstrap WordPress плагин слайдер своими руками</span></span> </a></div><hr class="styled-separator is-style-wide" aria-hidden="true" /></nav><div class="comments-wrapper section-inner"><div class="comments" id="comments"><div id="respond"><div class="fb-comments" data-href="https://oiplug.com/?p=2919" data-numposts="10"> Загрузка комментариев...</div></div></div></div></article></main><div class="footer-nav-widgets-wrapper header-footer-group"><div class="footer-inner section-inner"><div class="footer-top has-footer-menu"><nav aria-label="Подвал" role="navigation" class="footer-menu-wrapper"><ul class="footer-menu reset-list-style"><li id="menu-item-6660" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-privacy-policy menu-item-6660"><a href="/privacy">Политика конфиденциальности</a></li><li id="menu-item-6661" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6661"><a href="/cookies">Информация об использовании cookies</a></li><li id="menu-item-6662" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6662"><a href="/data-processing-agreement">Согласие на обработку персональных данных физических лиц</a></li></ul></nav></div></div></div><footer id="site-footer" role="contentinfo" class="header-footer-group"><div class="section-inner"><div class="footer-credits"><p class="footer-copyright">&copy;
 2019 <a href="/">OiPlug</a></p><p class="powered-by-wordpress"> <a href="https://ru.wordpress.org/" class="external" rel="nofollow" target="_blank"> Сайт работает на WordPress </a></p></div> <a class="to-the-top" href="#site-header"> <span class="to-the-top-long"> Наверх <span class="arrow" aria-hidden="true">&uarr;</span> </span> <span class="to-the-top-short"> Вверх <span class="arrow" aria-hidden="true">&uarr;</span> </span> </a></div></footer><div id="fb-root"></div> <script async defer crossorigin="anonymous" src="https://connect.facebook.net/ru_RU/sdk.js#xfbml=1&version=v5.0&appId=651840578686026&autoLogAppEvents=1"  data-include-parent="true"></script> <script>/(trident|msie)/i.test(navigator.userAgent)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var t,e=location.hash.substring(1);/^[A-z0-9_-]+$/.test(e)&&(t=document.getElementById(e))&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())},!1);</script> </body></html>